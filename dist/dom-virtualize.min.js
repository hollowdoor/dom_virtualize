var domVirtualize=function(){"use strict";function t(t){for(var e=!1,n=!1,r=!1,o=0;o<t.length;o++){var i=t[o];e&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(t=t.substr(0,o)+"-"+t.substr(o),e=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(t=t.substr(0,o-1)+"-"+t.substr(o-1),r=n,n=!1,e=!0):(e=i.toLowerCase()===i,r=n,n=i.toUpperCase()===i)}return t}function e(t){return t+""=="[object DocumentFragment]"}function n(t){return e(t)||r(t)}function r(t){return null!=t&&"object"==typeof t&&t.nodeType===Node.ELEMENT_NODE&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}function o(t){return"[object Date]"===Object.prototype.toString.call(t)}function i(){for(var t=arguments,n=[],o=arguments.length;o--;)n[o]=t[o];return n.map(function(t){if(void 0===t)return"";if(A(t)&&t.hasOwnProperty("element")&&(t=t.element),"string"==typeof t)return t;if(r(t))return t.outerHTML;if(e(t)){var n=document.createElement("div");return n.appendChild(t.cloneNode(!0)),n.innerHTML}}).join("")}function a(t){var e=document.createElement("div"),n=document.createDocumentFragment();for(e.innerHTML=t;e.firstChild;)n.appendChild(e.firstChild);return n}function u(t){var e=a(t);return 1===e.children.length?e.removeChild(e.firstChild):e}function c(t){try{return t.toLocaleString(M,T)}catch(e){return t+""}}function l(t){if(o(t))return c(t);if(t.constructor===Object)try{return JSON.stringify(t,null,2)}catch(t){}return t+""}function f(t,e){if(t.dataset)return Object.keys(e).forEach(function(n){return t.dataset[L(n)]=e[n]}),t}function d(t,e){if(t.setAttribute&&-1===[3,8,2].indexOf(t.nodeType))return Object.keys(e).forEach(function(n){t.setAttribute(n,e[n]+"")}),t}function s(t,e){var n=window.getComputedStyle(t);t.style&&Object.keys(e).forEach(function(r){void 0!==n[r]?t.style[L(r)]=e[r]+"":t.style.setProperty("--"+decamelize(r,"-"),e[r]+"")})}function h(t){for(var e=arguments,n=[],r=arguments.length-1;r-- >0;)n[r]=e[r+1];return"string"!=typeof t&&E(t)?(t=x(t),n.length?p(t.reduce(function(t,e,r){return t+e+i(n[r])},"")):t.reduce(function(t,e){return t.appendChild(p(e)),t},document.createDocumentFragment())):p(t)}function p(t){if(A(t)&&(t.hasOwnProperty("element")&&(t=t.element),A(t))){if(n(t)||t===document)return t;if(t.hasOwnProperty("tag"))return y(t);t=l(t)}try{var e=document.querySelector(t);if(e)return e}catch(t){}return u(t)}function y(t){var e,n,r=null,o=Object.keys(t),a=function(t){return-1!==(n=o.indexOf(t+""))&&(o.splice(n,1),!0)};if(!a("tag"))throw new Error('obj must have a "tag" property with a DOM tag name');return e=document.createElement(t.tag.toLowerCase()),a("attributes")&&A(t.attributes)&&d(e,t.attributes),a("data")&&A(t.data)&&f(e,t.data),a("innerHTML")&&(e.innerHTML=i(t.innerHTML)),a("head")&&e.appendChild(h(t.head)),a("children")&&E(t.children)&&m(e,t.children),a("foot")&&e.appendChild(h(t.foot)),a("style")&&A(t.style)&&s(e,t.style),a("parent")&&(r=h(t.parent)),o.forEach(function(n){"function"===t[n]||A(t[n])||(e[n]=t[n])}),r&&r.appendChild(e),e}function m(t,e){return x(e).forEach(function(e){t.appendChild(h(e))}),t}var v=Array.isArray,g=Object.prototype.toString,b=v||function(t){return!!t&&"[object Array]"==g.call(t)},w=function(t){if(null==t)return!1;var e=Object(t);return e===e.window},j=function(t){var e=C.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)},C=Object.prototype.toString,E=function(t){if(!t)return!1;if(b(t))return!0;if(j(t)||w(t))return!1;var e="length"in(t=Object(t))&&t.length;return!(1!==t.nodeType||!e)||(0===e||"number"==typeof e&&e>0&&e-1 in t)},O=function(){var t=function(t){return"function"==typeof t},e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,r=function(t){var r=e(t);return Math.min(Math.max(r,0),n)},o=function(t){if(null!=t){if(["string","number","boolean","symbol"].indexOf(typeof t)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in t)return Symbol.iterator;if("@@iterator"in t)return"@@iterator"}},i=function(e,n){if(null!=e&&null!=n){var r=e[n];if(null==r)return;if(!t(r))throw new TypeError(r+" is not a function");return r}},a=function(t){var e=t.next();return!Boolean(e.done)&&e};return function(e){var n,u=this,c=arguments.length>1?arguments[1]:void 0;if(void 0!==c){if(!t(c))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}var l,f,d=i(e,o(e));if(void 0!==d){l=t(u)?Object(new u):[];var s=d.call(e);if(null==s)throw new TypeError("Array.from requires an array-like or iterable object");f=0;for(var h,p;;){if(!(h=a(s)))return l.length=f,l;p=h.value,l[f]=c?c.call(n,p,f):p,f++}}else{var y=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var m=r(y.length);l=t(u)?Object(new u(m)):new Array(m),f=0;for(var v;f<m;)v=y[f],l[f]=c?c.call(n,v,f):v,f++;l.length=m}return l}}(),x="function"==typeof Array.from?Array.from:O,L=function(e){return 0===(e=arguments.length>1?Array.from(arguments).map(function(t){return t.trim()}).filter(function(t){return t.length}).join("-"):e.trim()).length?"":1===e.length?e.toLowerCase():/^[a-z0-9]+$/.test(e)?e:(e!==e.toLowerCase()&&(e=t(e)),e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()}))},A=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)},T={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},M=window.navigator.userLanguage||window.navigator.language,S=function(t){function e(t){a.expand()}var n=t.frame;void 0===n&&(n=document.createElement("div"));var r=t.parent;void 0===r&&(r=document.createElement("div"));var o=t.render;void 0===o&&(o=null);var i=t.classes;void 0===i&&(i={}),n.style.width="500px",n.style.height="400px",n.style.border="1px solid black";var a=this;n.appendChild(r),this.data=[],this.element=n,this._parent=r,this._render=o,this.indexes={top:0,bottom:0};var u=this.last=document.createElement("div");u.style.width="100%",u.style.hight="0px",u.style.margin="",u.style.padding="",n.style.overflow="scroll",r.addEventListener("scroll",e),this.destroy=function(){r.removeEventListener("scroll",e)}};return S.prototype.expand=function(){var t=this,e=this.last.getBoundingClientRect(),n=this.element.getBoundingClientRect(),r=this._parent,o=this.indexes.bottom;if(e.top>=n.bottom){for(var i=this.indexes.bottom;i<this.data.length;i++)if((e=t.last.getBoundingClientRect()).top>=n.bottom){console.log("this.data[i] ",t.data[i]);var a=h(t._render(t.data[i]));r.appendChild(a),o=i}this.indexes.bottom=o}},S.prototype.push=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.data=this.data.concat(t),this.expand()},S.prototype.appendTo=function(t){console.log("dest ",t);try{t.appendChild(this.element)}catch(t){console.error(t)}},function(t){return new S(t)}}();
//# sourceMappingURL=dom-virtualize.min.js.map
